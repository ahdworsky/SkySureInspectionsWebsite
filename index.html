<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0E1F2F" />
  <title>SkySure Inspections</title>
  <meta name="description" content="SkySure Inspections provides fast, high‑resolution drone imagery for roofs and properties across Charlotte and surrounding areas. FAA Part 107 certified and insured." />
  <link rel="canonical" href="https://ahdworsky.github.io/SkySureInspectionsWebsite/" />
  <meta property="og:title" content="SkySure Inspections" />
  <meta property="og:description" content="Clear, sky‑high views of what matters most—roof snapshots, detailed reports, marketing add‑ons, surveys, and claim documentation." />
  <meta property="og:type" content="website" />

  <style>
    :root { --brand:#0E1F2F; --accent:#EA5A1F; --ink:#1A2A3A; --bg:#fff; --shadow:0 8px 20px rgba(0,0,0,.12); --radius:16px; --nav-h:120px; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      html { scroll-behavior: auto; }
      /* intentionally removed: .logo-large { transition: none; } */
    }

    /* ===== Desktop final lock (matches attached file card sizing) ===== */
    @media (min-width:1025px){
      #services .service-grid{grid-template-columns:repeat(3,1fr) !important; max-width:1000px !important; gap:30px !important; justify-content:center !important; margin:0 auto !important;}
      #services .bottom-row{display:flex !important; justify-content:center !important; gap:30px !important; margin-top:30px !important;}
      #services .service-box{width:280px !important; height:auto !important;}
    }
    /* === Phone portrait tweaks (no desktop impact) === */
    @media (max-width: 600px) and (orientation: portrait){
      /* Keep snapped logo on the right in phone portrait */
      .logo-fixed-small{ right:12px !important; left:auto !important; transform:none !important; }

      /* Nudge Services section down by 1/2" and keep anchor scroll comfortable */
      #services{ margin-top: calc(60px + 0.5in); scroll-margin-top: calc(var(--nav-h) + 10px + 0.5in); }

      /* Lower About by 1" when using the top nav anchor */
      #about{ scroll-margin-top: calc(var(--nav-h) + 10px + 1in); }

      /* Force 1-column service cards in portrait */
      #services .service-grid,
      #services .bottom-row {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: 30px !important;
        max-width: min(520px, calc(100vw - 24px));
        margin: 0 auto;
      }
      #services .bottom-row { margin-top: 30px; }
      #services .service-box { width: 100% !important; }
    }

      /* 2) Nudge Services section down by 1/2" and keep anchor scroll comfortable */
      #services{ margin-top: calc(60px + 0.5in); scroll-margin-top: calc(var(--nav-h) + 10px + 0.5in); }

      /* 3) Lower About by 1" when using the top nav anchor */
      #about{ scroll-margin-top: calc(var(--nav-h) + 10px + 1in); }
    }
    /* === Phone landscape (≤915px): 2-2-1 layout with last centered === */
    @media (orientation: landscape) and (max-width: 915px){
      #services {
        display: grid !important;
        --lg-gap: 30px;
        grid-template-columns: repeat(2, minmax(0,1fr)) !important;
        gap: var(--lg-gap) !important;
        max-width: min(900px, 100vw - 24px) !important;
        margin: 0 auto !important;
        align-items: stretch;
      }
      #services > h2 {
        position: static !important;
        grid-column: 1 / -1;
        margin: 0 0 12px 0.125in;
      }
      #services .service-grid,
      #services .bottom-row { display: contents !important; }
      #services .service-box { width: 100% !important; }
      /* Last card centered, same width as single column */
      #services .bottom-row .service-box:last-child {
        grid-column: 1 / -1;
        justify-self: center;
        width: calc((100% - var(--lg-gap)) / 2) !important;
      }
      /* Lower About by 1" when using top nav anchor */
      #about { scroll-margin-top: calc(var(--nav-h) + 10px + 1in) !important; }
    }
  </style>
</head>
<body>
  <!-- Top nav -->
  <div class="nav-container">
    <div class="nav-links">
      <a href="https://ahdworsky.github.io/SkySureInspectionsWebsite/">Home</a>
      <a href="#services">Services</a>
      <a href="#about">About</a>
    </div>
    <div class="cta-top-left"><button class="btn" type="button" onclick="toggleForm()">Schedule an Inspection</button></div>
  </div>

  <!-- Modal backdrop -->
  <div id="modal-backdrop" class="backdrop" hidden></div>

  <!-- Appointment form modal -->
  <div id="appointment-form" role="dialog" aria-modal="true" aria-labelledby="appt-title" aria-describedby="appt-desc" tabindex="-1" hidden>
    <button class="close-btn" aria-label="Close form" onclick="toggleForm()">&times;</button>
    <h3 id="appt-title">Schedule an Inspection</h3>
    <p id="appt-desc" class="sr-only">Provide your contact information and service preference to request an appointment.</p>
    <form id="inspection-form" action="https://formspree.io/f/xnnzvgyl" method="POST" novalidate>
      <div class="form-grid">
        <div class="field">
          <label for="name">Name</label>
          <input id="name" name="Name" placeholder="Name" autocomplete="name" required>
        </div>
        <div class="field">
          <label for="email">Email</label>
          <input id="email" type="email" name="Email" placeholder="Email" autocomplete="email" required>
        </div>
        <div class="field">
          <label for="phone">Phone</label>
          <input id="phone" type="tel" name="Phone" placeholder="Phone #" autocomplete="tel" inputmode="tel">
        </div>
        <div class="field">
          <label for="service">Service</label>
          <select id="service" name="Service">
            <option value="Roof Snapshot">Roof Snapshot</option>
            <option value="Detailed Roof Report">Detailed Roof Report</option>
            <option value="Realtor Marketing Add-On">Realtor Marketing Add-On</option>
            <option value="Land Survey Flyover">Land Survey Flyover</option>
            <option value="Insurance Claim Documentation">Insurance Claim Documentation</option>
          </select>
        </div>
        <div class="field full">
          <label for="timeframe">Preferred Timeframe</label>
          <input id="timeframe" name="Timeframe" placeholder="Preferred Timeframe">
        </div>
        <div class="field full">
          <label for="comments">Additional Comments</label>
          <textarea id="comments" name="Comments" placeholder="Additional Comments"></textarea>
        </div>
        <div id="form-message" class="full sr-only" aria-live="polite"></div>
        <div class="full"><button id="submit-btn" type="submit">Submit</button></div>
      </div>
    </form>
  </div>

  <!-- Confirmation popup -->
  <div id="confirmation-popup" role="alertdialog" aria-modal="true" aria-labelledby="confirm-title" hidden>
    <h4 id="confirm-title">Request received.</h4>
    <p>Someone will contact you shortly.</p>
    <button type="button" onclick="closePopup()" aria-label="Close confirmation">OK</button>
  </div>

  <!-- Header / Logo -->
  <header id="top">
    <img id="main-logo" src="Final_Logo_Transparent.png" alt="SkySure Inspections Logo" class="logo-large" />
  </header>

  <main>
    <section id="services">
      <h2>Services</h2>
      <div class="service-grid">
        <div class="service-box">
          <h3>Roof Snapshot</h3>
          <p>High-resolution aerial imagery for a quick overview of your roof’s condition.</p>
          <p><strong>$125 (<2,500 sqft.) / $175</strong></p>
        </div>
        <div class="service-box">
          <h3>Detailed Roof Report</h3>
          <p>In-depth drone imaging documenting wear or damage—great for buyers or sellers.</p>
          <p><strong>$150 (<2,500 sq ft.) / $200</strong></p>
        </div>
        <div class="service-box">
          <h3>Realtor Marketing Add-On</h3>
          <p>Aerial footage to elevate your listing with dramatic views and visual clarity.</p>
          <p><strong>$50 Add-On</strong></p>
        </div>
      </div>
      <div class="bottom-row">
        <div class="service-box">
          <h3>Land Survey Flyover</h3>
          <p>Visualize property lines, terrain, and boundaries for undeveloped or large parcels.</p>
          <p><strong>Quote Required</strong></p>
        </div>
        <div class="service-box">
          <h3>Insurance Claim Documentation</h3>
          <p>Capture detailed roof damage imagery to support faster, smoother claim resolution.</p>
          <p><strong>$150 Flat Rate</strong></p>
        </div>
      </div>
    </section>

    <section id="about">
      <h2>About SkySure</h2>
      <div class="panel">
        <p>SkySure Inspections was created to give buyers, sellers, homeowners, and real estate agents peace of mind by offering a bird’s‑eye view of one of the most expensive components of a home—the roof. With drone technology, we provide sharp aerial imagery that shows roof condition, potential damage, and layout before making an offer or listing a property. Our mission is to deliver fast, visual confidence from above.</p>
      </div>
    </section>
  </main>

  <footer>
    <p>FAA Part 107 Certified | Insured | Not a home inspection – just a clear, sky-high view of what matters most.</p>
    <p>Email: <a href="mailto:aaron@skysure.com" style="color:#fff;">aaron@skysure.com</a></p>
    <p>Phone: <a href="tel:+17048855795" style="color:#fff;">704-885-5795</a></p>
    <p>Location: Charlotte &amp; surrounding areas</p>
    <p>Hours: M–F 9am–8pm | Sat 9am–6pm | Sun 9am–12pm</p>
  </footer>

  <script>
    // Modal open/close helpers with focus trapping + ESC + backdrop click
    (function(){
      const modal = document.getElementById('appointment-form');
      const backdrop = document.getElementById('modal-backdrop');
      const closeBtn = modal.querySelector('.close-btn');
      const form = document.getElementById('inspection-form');
      const submitBtn = document.getElementById('submit-btn');
      const msg = document.getElementById('form-message');
      let lastFocus = null;

      function fitModalScale(){
        if (modal.hasAttribute('hidden')) return;
        const baseScale = parseFloat(getComputedStyle(modal).getPropertyValue('--form-scale')) || 1;
        modal.style.transform = `translateX(-50%) scale(${baseScale})`;
        modal.style.transformOrigin = 'top center';
        const avail = Math.min(window.innerHeight, document.documentElement.clientHeight) - 40;
        const rect = modal.getBoundingClientRect();
        const scale = Math.min(1, avail / rect.height);
        modal.style.transform = `translateX(-50%) scale(${scale * baseScale})`;
      }

      function isOpen(){ return !modal.hasAttribute('hidden'); }
      function getFocusable(){
        return Array.from(modal.querySelectorAll('a[href], button:not([disabled]), input, select, textarea, [tabindex]:not([tabindex="-1"])'))
          .filter(el => el.offsetParent !== null);
      }

      function openModal(){
        lastFocus = document.activeElement;
        document.body.classList.add('modal-open');
        backdrop.hidden = false;
        modal.hidden = false;
        msg.textContent = '';
        msg.classList.add('sr-only');
        const f = getFocusable();
        (f[0] || modal).focus();
        fitModalScale();
        window.addEventListener('resize', fitModalScale);
        window.addEventListener('orientationchange', fitModalScale);
      }

      function closeModal(){
        document.body.classList.remove('modal-open');
        modal.hidden = true;
        backdrop.hidden = true;
        modal.style.transform = 'translateX(-50%) scale(' + (parseFloat(getComputedStyle(modal).getPropertyValue('--form-scale')) || 1) + ')';
        window.removeEventListener('resize', fitModalScale);
        window.removeEventListener('orientationchange', fitModalScale);
        if (lastFocus) lastFocus.focus();
      }

      // Expose controls
      window.toggleForm = function(){ isOpen() ? closeModal() : openModal(); };
      window.closePopup = function(){
        const popup = document.getElementById('confirmation-popup');
        popup.hidden = true; backdrop.hidden = true;
        if (lastFocus) lastFocus.focus();
      };

      // Close when clicking outside
      backdrop.addEventListener('click', closeModal);
      closeBtn.addEventListener('click', closeModal);

      // Keyboard handling
      document.addEventListener('keydown', (e)=>{
        if (!isOpen()) return;
        if (e.key === 'Escape') { e.preventDefault(); closeModal(); }
        if (e.key === 'Tab') {
          const f = getFocusable();
          if (!f.length) return;
          const first = f[0], last = f[f.length - 1];
          if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
          else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
        }
      });

      function showMessage(text, ok=false){
        msg.textContent = text;
        msg.classList.remove('sr-only');
        msg.style.color = ok ? '#0a7' : '#c00';
      }

      if (form) {
        form.addEventListener('submit', async (event)=>{
          event.preventDefault();
          const name = form.elements['Name'];
          const email = form.elements['Email'];
          if (!name.value.trim()) { name.focus(); showMessage('Please enter your name.'); return; }
          if (!email.validity.valid) { email.focus(); showMessage('Please enter a valid email.'); return; }

          submitBtn.disabled = true; const oldText = submitBtn.textContent; submitBtn.textContent = 'Submitting…';
          try {
            const formData = new FormData(form);
            const res = await fetch(form.action, { method: 'POST', body: formData, headers: { 'Accept':'application/json' } });
            if (res.ok) {
              form.reset();
              closeModal();
              const popup = document.getElementById('confirmation-popup');
              const okBtn = popup.querySelector('button');
              popup.hidden = false; backdrop.hidden = false; okBtn.focus();
            } else {
              showMessage('There was a problem submitting the form. Please try again.');
            }
          } catch(err){
            console.error(err); showMessage('Network error. Please try again.');
          } finally {
            submitBtn.disabled = false; submitBtn.textContent = oldText;
          }
        });
      }

      // --- Minimal self-tests (non-invasive) ---
      document.addEventListener('DOMContentLoaded', function(){
        try {
          console.assert(typeof window.toggleForm === 'function', 'toggleForm should be defined');
          console.assert(!!document.getElementById('appointment-form'), '#appointment-form exists');
          console.assert(!!document.getElementById('modal-backdrop'), '#modal-backdrop exists');
          console.log('[Self-test] basic checks passed');
        } catch (e) {
          console.error('[Self-test] failed', e);
        }
      });
    })();

    // Snap logo just before service cards would touch the big logo (desktop + mobile) with hysteresis to prevent flicker
    (function(){
      const logo = document.getElementById('main-logo');
      const services = document.getElementById('services');
      const grid = services ? services.querySelector('.service-grid') : null;
      if (!logo || !services || !grid) return;

      let snapped = false;
      let lastLargeBottom = null; // measured when logo is large
      const SNAP_IN_BUFFER = 8;   // snap when close
      const SNAP_OUT_BUFFER = 40; // unsnap only after scrolling back further (hysteresis)

      function measureLargeBottom(){
        if (snapped && lastLargeBottom != null) return lastLargeBottom;
        const b = logo.getBoundingClientRect().bottom;
        if (Number.isFinite(b)) lastLargeBottom = b;
        return lastLargeBottom || 0;
      }

      let ticking = false;
      function update(){
        ticking = false;
        const gridTop = grid.getBoundingClientRect().top;
        const largeBottom = measureLargeBottom();

        if (!snapped && gridTop <= (largeBottom + SNAP_IN_BUFFER)){
          snapped = true;
          logo.classList.add('logo-fixed-small');
        } else if (snapped && gridTop >= (largeBottom + SNAP_OUT_BUFFER)){
          snapped = false;
          logo.classList.remove('logo-fixed-small');
        }
      }

      function onScroll(){
        if (!ticking){
          ticking = true;
          requestAnimationFrame(update);
        }
      }

      window.addEventListener('scroll', onScroll, { passive: true });
      window.addEventListener('resize', onScroll);
      window.addEventListener('load', onScroll);
    })();
  </script>
</body>
</html>

