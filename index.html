<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0E1F2F" />
  <title>SkySure Inspections</title>
  <meta name="description" content="SkySure Inspections provides fast, high‑resolution drone imagery for roofs and properties across Charlotte and surrounding areas. FAA Part 107 certified and insured." />
  <link rel="canonical" href="https://ahdworsky.github.io/SkySureInspectionsWebsite/" />
  <meta property="og:title" content="SkySure Inspections" />
  <meta property="og:description" content="Clear, sky‑high views of what matters most—roof snapshots, detailed reports, marketing add‑ons, surveys, and claim documentation." />
  <meta property="og:type" content="website" />

  <style>
    :root { --brand:#0E1F2F; --accent:#EA5A1F; --ink:#1A2A3A; --bg:#fff; --shadow:0 8px 20px rgba(0,0,0,.12); --radius:16px; --nav-h:80px; }
    html { scroll-behavior:smooth; }

    /* Background */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding-top: 900px; /* positions hero content over background image */
      color: var(--ink);
      background: url('Background.png') no-repeat center center fixed;
      background-size: cover;
      position: relative;
      overflow-x: hidden;
      background-color: transparent;
    }

    /* Accessibility helpers */
    [hidden] { display: none !important; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

    /* Top nav */
    .nav-container { position: fixed; top: 0; left: 0; width: 100%; height: var(--nav-h); background: var(--brand); z-index: 1005; display: flex; align-items: center; justify-content: center; }
    .nav-links { display: flex; gap: clamp(24px,4vw,48px); }
    .nav-links a { color: #fff; text-decoration: none; font-weight: 700; }

    /* Call to action */
    .cta-top-left { position: fixed; top: calc(var(--nav-h) + 12px); left: 12px; z-index: 1010; }
    .btn { background: var(--accent); color: #fff; border: 0; border-radius: 999px; padding: 12px 20px; font-weight: 800; cursor: pointer; box-shadow: var(--shadow); }
    .btn:focus-visible { outline: 3px solid var(--accent); outline-offset: 2px; }

    /* Header + Logo */
    header#top { background: transparent; padding: 10px 20px; text-align: center; position: fixed; top: 37px; width: 100%; height: auto; z-index: 1002; }
    .logo-large { max-width: 300px; height: auto; display: block; margin: 0 auto; background: transparent; transition: all 0.5s ease; }
    .logo-fixed-small { max-width: 150px !important; position: fixed; top: calc(var(--nav-h) + 0.125in - 5px); right: 20px; margin: 0 !important; z-index: 1004; }

    /* Sections */
    main { position: relative; z-index: 1; }
    #services { margin-block: 60px 200px; position: relative; scroll-margin-top: 190px; }
    #services > h2 { color: var(--brand); position: absolute; top: -40px; left: 0.125in; margin: 0; }

    .service-grid { display: grid; grid-template-columns: repeat(3, 1fr); max-width: 1000px; gap: 30px; margin: 0 auto; }
    .bottom-row { display: flex; justify-content: center; gap: 30px; margin-top: 30px; }
    .service-box { width: 280px; background-color: #ffffffcc; padding: 25px; border-radius: 15px; text-align: center; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    .service-box h3 { margin-top: 0; color: var(--brand); }
    .service-box p { margin: 8px 0; }
    .price { color: var(--accent); font-weight: 900; }

    #about { margin-block: calc(120px + 1.25in); position: relative; }
    #about > h2 { color: var(--brand); position: absolute; top: -40px; left: 0.125in; margin: 0; }
    #about .panel { background: var(--bg); border-radius: var(--radius); box-shadow: var(--shadow); padding: 20px; }

    footer { background: var(--brand); color: #fff; padding: 24px 0; margin-top: 60px; text-align: center; }
    footer p { margin: 6px 0; }

    /* Backdrop + Modal form (accessible) */
    body.modal-open { overflow: hidden; }
    .backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.45); backdrop-filter: blur(1px); z-index: 1006; }

    #appointment-form { position: fixed; top: 100px; left: 50%; transform: translateX(-50%); background-color: #fff; padding: 24px 12px; border-radius: 12px; z-index: 1007; box-shadow: 0 8px 24px rgba(0,0,0,0.3); width: min(520px, 92vw); max-height: calc(80vh - 0.5in); overflow:auto; }
    #appointment-form .close-btn { position: absolute; top: 10px; right: 14px; font-size: 22px; font-weight: bold; cursor: pointer; background: none; border: 0; }
    #appointment-form form { margin-top: 8px; }
    #appointment-form label { font-size: 14px; font-weight: 600; display:block; margin: 10px 0 4px; }
    #appointment-form input, #appointment-form select, #appointment-form textarea { width: 100%; margin: 0 0 10px; padding: 6px 10px; line-height: 20px; border: 1px solid #cbd5e1; border-radius: 8px; min-height: 22px; font-size: 16px; }
    #appointment-form textarea { min-height: 45px; resize: vertical; }
    #appointment-form button[type="submit"] { background-color: var(--brand); color: #fff; padding: 12px 18px; border: none; border-radius: 999px; font-weight: 800; cursor: pointer; box-shadow: var(--shadow); width: 100%; }
    #appointment-form :focus-visible { outline: 3px solid var(--accent); outline-offset: 2px; }
    #form-message { margin-top: 8px; font-size: 14px; }

    #confirmation-popup { position: fixed; top: 30%; left: 50%; transform: translate(-50%, -50%); background-color: #fff; border: 2px solid var(--brand); border-radius: 12px; padding: 28px; z-index: 1008; box-shadow: 0 8px 24px rgba(0,0,0,0.3); text-align: center; }
    #confirmation-popup button { margin-top: 12px; background: var(--brand); color:#fff; border:0; border-radius: 999px; padding: 10px 16px; font-weight: 800; cursor: pointer; }

    @media (max-width: 600px){
      #appointment-form { top: calc(var(--nav-h) + 20px); padding: 20px; }
      .logo-fixed-small { right: 12px; }
    }
      /* Fit form into viewport without internal scroll */
    #appointment-form { max-height: none; overflow: visible; transform-origin: top center; } #appointment-form *, #appointment-form *::before, #appointment-form *::after { box-sizing: border-box; }
    #appointment-form .form-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
    #appointment-form .field { display: flex; flex-direction: column; }
    #appointment-form .full { grid-column: 1 / -1; }
    #confirmation-popup { max-width: 460px; padding: 22px; }
    @media (max-width: 600px){ /* already single-column */ }
  </style>
</head>
<body>
  <!-- Top nav -->
  <div class="nav-container">
    <div class="nav-links">
      <a href="https://ahdworsky.github.io/SkySureInspectionsWebsite/">Home</a>
      <a href="#services">Services</a>
      <a href="#about">About</a>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta-top-left">
    <button class="btn" type="button" onclick="toggleForm()">Schedule an Inspection</button>
  </div>

  <!-- Header / Logo -->
  <div id="modal-backdrop" class="backdrop" hidden></div>

  <div id="appointment-form" role="dialog" aria-modal="true" aria-labelledby="appt-title" aria-describedby="appt-desc" tabindex="-1" hidden>
    <button class="close-btn" aria-label="Close form" onclick="toggleForm()">&times;</button>
    <h3 id="appt-title">Schedule an Inspection</h3>
    <p id="appt-desc" class="sr-only">Provide your contact information and service preference to request an appointment.</p>
    <form id="inspection-form" action="https://formspree.io/f/xnnzvgyl" method="POST" novalidate>
      <div class="form-grid">
        <div class="field">
          <label for="name">Name</label>
          <input id="name" name="Name" placeholder="Name" autocomplete="name" required>
        </div>
        <div class="field">
          <label for="email">Email</label>
          <input id="email" type="email" name="Email" placeholder="Email" autocomplete="email" required>
        </div>
        <div class="field">
          <label for="phone">Phone</label>
          <input id="phone" type="tel" name="Phone" placeholder="Phone #" autocomplete="tel" inputmode="tel">
        </div>
        <div class="field">
          <label for="service">Service</label>
          <select id="service" name="Service">
            <option value="Roof Snapshot">Roof Snapshot</option>
            <option value="Detailed Roof Report">Detailed Roof Report</option>
            <option value="Realtor Marketing Add-On">Realtor Marketing Add-On</option>
            <option value="Land Survey Flyover">Land Survey Flyover</option>
            <option value="Insurance Claim Documentation">Insurance Claim Documentation</option>
          </select>
        </div>
        <div class="field full">
          <label for="timeframe">Preferred Timeframe</label>
          <input id="timeframe" name="Timeframe" placeholder="Preferred Timeframe">
        </div>
        <div class="field full">
          <label for="comments">Additional Comments</label>
          <textarea id="comments" name="Comments" placeholder="Additional Comments"></textarea>
        </div>
        <div id="form-message" class="full sr-only" aria-live="polite"></div>
        <div class="full"><button id="submit-btn" type="submit">Submit</button></div>
      </div>
    </form>
  </div>

  <div id="confirmation-popup" role="alertdialog" aria-modal="true" aria-labelledby="confirm-title" hidden>
    <h4 id="confirm-title">Request received.</h4>
    <p>Someone will contact you shortly.</p>
    <button type="button" onclick="closePopup()" aria-label="Close confirmation">OK</button>
  </div>

  <header id="top">
    <img id="main-logo" src="Final_Logo_Transparent.png" alt="SkySure Inspections Logo" class="logo-large" />
  </header>

  <main>
    <section id="services">
      <h2>Services</h2>
      <div class="service-grid">
        <div class="service-box">
          <h3>Roof Snapshot</h3>
          <p>High-resolution aerial imagery for a quick overview of your roof’s condition.</p>
          <p><strong>$125 / $175</strong></p>
        </div>
        <div class="service-box">
          <h3>Detailed Roof Report</h3>
          <p>In-depth drone imaging documenting wear or damage—great for buyers or sellers.</p>
          <p><strong>$150 / $200</strong></p>
        </div>
        <div class="service-box">
          <h3>Realtor Marketing Add-On</h3>
          <p>Aerial footage to elevate your listing with dramatic views and visual clarity.</p>
          <p><strong>$50 Add-On</strong></p>
        </div>
      </div>
      <div class="bottom-row">
        <div class="service-box">
          <h3>Land Survey Flyover</h3>
          <p>Visualize property lines, terrain, and boundaries for undeveloped or large parcels.</p>
          <p><strong>Quote Required</strong></p>
        </div>
        <div class="service-box">
          <h3>Insurance Claim Documentation</h3>
          <p>Capture detailed roof damage imagery to support faster, smoother claim resolution.</p>
          <p><strong>$150 Flat Rate</strong></p>
        </div>
      </div>
    </section>

    <section id="about">
      <h2>About SkySure</h2>
      <div class="panel">
        <p>SkySure Inspections was created to give buyers, sellers, homeowners, and real estate agents peace of mind by offering a bird’s‑eye view of one of the most expensive components of a home—the roof. With drone technology, we provide sharp aerial imagery that shows roof condition, potential damage, and layout before making an offer or listing a property. Our mission is to deliver fast, visual confidence from above.</p>
      </div>
    </section>
  </main>

  <footer>
    <p>FAA Part 107 Certified | Insured | Not a home inspection – just a clear, sky-high view of what matters most.</p>
    <p>Email: <a href="mailto:aaron@skysure.com" style="color:#fff;">aaron@skysure.com</a></p>
    <p>Phone: <a href="tel:+17048855795" style="color:#fff;">704-885-5795</a></p>
    <p>Location: Charlotte &amp; surrounding areas</p>
    <p>Hours: M–F 9am–8pm | Sat 9am–6pm | Sun 9am–12pm</p>
  </footer>

  <script>
    // Modal open/close helpers with focus trapping + ESC + backdrop click
    (function(){
      const modal = document.getElementById('appointment-form');
      const backdrop = document.getElementById('modal-backdrop');
      const closeBtn = modal.querySelector('.close-btn');
      const form = document.getElementById('inspection-form');
      const submitBtn = document.getElementById('submit-btn');
      const msg = document.getElementById('form-message');
      let lastFocus = null;

      // Scale the modal to fit in viewport so no internal scrolling is needed
      function fitModalScale(){
        if (modal.hasAttribute('hidden')) return;
        modal.style.transform = 'translateX(-50%) scale(1)';
        modal.style.transformOrigin = 'top center';
        const avail = Math.min(window.innerHeight, document.documentElement.clientHeight) - 40; // 20px margins top/bottom
        const rect = modal.getBoundingClientRect();
        const scale = Math.min(1, avail / rect.height);
        modal.style.transform = `translateX(-50%) scale(${scale})`;
      }

      function isOpen(){ return !modal.hasAttribute('hidden'); }
      function getFocusable(){
        return Array.from(modal.querySelectorAll('a[href], button:not([disabled]), input, select, textarea, [tabindex]:not([tabindex="-1"])'))
          .filter(el => el.offsetParent !== null);
      }

      function openModal(){
        lastFocus = document.activeElement;
        document.body.classList.add('modal-open');
        backdrop.hidden = false;
        modal.hidden = false;
        msg.textContent = '';
        msg.classList.add('sr-only');
        const f = getFocusable();
        (f[0] || modal).focus();
        fitModalScale();
        window.addEventListener('resize', fitModalScale);
        window.addEventListener('orientationchange', fitModalScale);
      }

      function closeModal(){
        document.body.classList.remove('modal-open');
        modal.hidden = true;
        backdrop.hidden = true;
        modal.style.transform = 'translateX(-50%) scale(1)';
        window.removeEventListener('resize', fitModalScale);
        window.removeEventListener('orientationchange', fitModalScale);
        if (lastFocus) lastFocus.focus();
      }

      // Expose to button onclick
      window.toggleForm = function(){ isOpen() ? closeModal() : openModal(); };
      window.closePopup = function(){
        const popup = document.getElementById('confirmation-popup');
        popup.hidden = true; backdrop.hidden = true;
        if (lastFocus) lastFocus.focus();
      };

      // Backdrop click + X click
      backdrop.addEventListener('click', closeModal);
      closeBtn.addEventListener('click', closeModal);

      // ESC + focus trap
      document.addEventListener('keydown', (e)=>{
        if (!isOpen()) return;
        if (e.key === 'Escape') { e.preventDefault(); closeModal(); }
        if (e.key === 'Tab') {
          const f = getFocusable();
          if (!f.length) return;
          const first = f[0], last = f[f.length - 1];
          if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
          else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
        }
      });

      // Basic validation + clearer success/failure states
      function showMessage(text, ok=false){
        msg.textContent = text;
        msg.classList.remove('sr-only');
        msg.style.color = ok ? '#0a7' : '#c00';
      }

      if (form) {
        form.addEventListener('submit', async (event)=>{
          event.preventDefault();
          const name = form.elements['Name'];
          const email = form.elements['Email'];
          if (!name.value.trim()) { name.focus(); showMessage('Please enter your name.'); return; }
          if (!email.validity.valid) { email.focus(); showMessage('Please enter a valid email.'); return; }

          submitBtn.disabled = true; const oldText = submitBtn.textContent; submitBtn.textContent = 'Submitting…';
          try {
            const formData = new FormData(form);
            const res = await fetch(form.action, { method: 'POST', body: formData, headers: { 'Accept':'application/json' } });
            if (res.ok) {
              form.reset();
              closeModal();
              const popup = document.getElementById('confirmation-popup');
              const okBtn = popup.querySelector('button');
              popup.hidden = false; backdrop.hidden = false; okBtn.focus();
            } else {
              showMessage('There was a problem submitting the form. Please try again.');
            }
          } catch(err){
            console.error(err); showMessage('Network error. Please try again.');
          } finally {
            submitBtn.disabled = false; submitBtn.textContent = oldText;
          }
        });
      }
    })();

    // Snap logo when the Services section reaches (or just before) the anchor position
    (function(){
      const logo = document.getElementById('main-logo');
      const services = document.getElementById('services');
      function getSnapOffset(){
        if (!services) return 0;
        const smt = parseFloat(getComputedStyle(services).scrollMarginTop) || 0; // e.g., 190px
        if (smt) return smt + 4; // snap just before you'd scroll past the start
        const navH = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--nav-h')) || 80;
        return navH + 110; // fallback
      }
      function onScroll(){
        if(!logo || !services) return;
        const snapOffset = getSnapOffset();
        const topInViewport = services.getBoundingClientRect().top;
        const shouldSnap = topInViewport <= snapOffset;
        logo.classList.toggle('logo-fixed-small', shouldSnap);
      }
      window.addEventListener('scroll', onScroll, { passive: true });
      window.addEventListener('load', onScroll);
    })();
  </script>
</body>
</html>
